{% extends 'adminsite/index.html' %}

{% block contents %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
<div class='container'>
    <div class="row">
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="card widget-block p-4 rounded bg-white border">
            <div class="card-block">
              <i class="mdi mdi-diamond text-success mr-4"></i>
              <h4 class="text-primary my-2">{{all_total_amount|floatformat:2}}</h4>
              <p>Total Order Amount</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="card widget-block p-4 rounded bg-white border">
            <div class="card-block">
              <i class="mdi mdi-cart-outline text-success mr-4"></i>
              <h4 class="text-primary my-2">{{all_order}}</h4>
              <p>Total Orders</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="card widget-block p-4 rounded bg-white border">
            <div class="card-block">
              <i class="mdi mdi-cart-outline text-info mr-4"></i>
              <h4 class="text-primary my-2">{{by_month}}</h4>
              <p>This Month Orders</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
          <div class="card widget-block p-4 rounded bg-white border">
            <div class="card-block">
              <i class="mdi mdi-diamond text-success mr-4"></i>
              <h4 class="text-primary my-2">{{total_amount|floatformat:2}}</h4>
              <p>This Month Amount</p>
            </div>
          </div>
        </div>
        <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="card widget-block p-4 rounded bg-white border">
              <div class="card-block">
                <i class="mdi mdi-cart-outline text-warning mr-4"></i>
                <h4 class="text-primary my-2">{{return_order}}</h4>
                <p>Total Return Orders</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="card widget-block p-4 rounded bg-white border">
              <div class="card-block">
                <i class="mdi mdi-cart-outline text-danger mr-4"></i>
                <h4 class="text-primary my-2">{{cancel_order}}</h4>
                <p>Total Canceled Orders</p>
              </div>
            </div>
          </div>
          <div class="col-md-6 col-lg-6 col-xl-3">
            <div class="card widget-block p-4 rounded bg-white border">
              <div class="card-block">
                <i class="mdi mdi-diamond text-danger mr-4"></i>
                <h4 class="text-primary my-2">{{refund|floatformat:2}}</h4>
                <p>Total Refund Amount</p>
              </div>
            </div>
          </div>
      </div>
<form class="row g-3" action="{% url 'report_genretor' %}">
    <div class="col-md-3">
        <label for="Report-on" class="form-label">Report on</label>
        <select class="form-select" id="Report-on" name='report_on' required>
          <option selected disabled value="">Choose</option>
          <option value='products'>Products</option>
          <option value='order'>Orders</option>
        </select>
    </div>
    <div class="col-md-3">
        <label for="validationCustom04" class="form-label">Report type</label>
        <select class="form-select" id="validationCustom04" name='report_type' required>
          <option selected disabled value="">Choose</option>
          <option value='pdf'>PDF</option>
          <option value='excel'>Excel</option>
        </select>
    </div>
    <div class='col-4 ' id='hide-for'>
        <label for="date">From:</label>
        <input type="date" class="form-control" name='from' id="date">
    </div>
    <div class='col-4' id='hide-for1'>
        <label for="date">To:</label>
        <input type="date" class="form-control" name='to' id="date">
    </div>
    <div class='col-4' id='hide-for2'>
    <label for="day" class="form-label">By day</label>
    <input type="text" id="day" name='day' class="form-control">
    </div>
    <div class='col-4 d-none' id='hide-for3'>
        <label for="name" class="form-label">By Name</label>
        <input type="text" id="name" name='name' class="form-control">
        </div>
    <div class="col-12">
      <button class="btn btn-primary" type="submit">Generate Report</button>
    </div>
  </form>
</div>


{% endblock contents %}

{% block pagejavascript %}
<script>
    var hide = document.getElementById("hide-for")
    var hide1 = document.getElementById("hide-for1")
    var hide2 = document.getElementById("hide-for2")
    var hide3 = document.getElementById("hide-for3")
    var select = document.getElementById('Report-on')
    select.addEventListener('change',(e)=>{
        if (select.value == 'products'){
            hide.classList.add('d-none');
            hide1.classList.add('d-none');
            hide2.classList.add('d-none');
            hide3.classList.remove('d-none');
        }else{
            hide.classList.remove('d-none');
            hide1.classList.remove('d-none');
            hide2.classList.remove('d-none');
            hide3.classList.add('d-none');
        }
    })
</script>
{% endblock pagejavascript %}